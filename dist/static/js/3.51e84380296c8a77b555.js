webpackJsonp([3],{MfUC:function(t,e){},S2YK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("1iNP"),o=a("7+uW"),r=a("+4za"),s=a.n(r);a("WC7W");o.default.use(s.a);var n={data:function(){return{waitingDialog:!1,deleteDialog:!1,editDialog:!1,selectedCategory:null}},components:{ProgressDialog:i.a},computed:{categories:function(){return this.$store.state.categories}},mounted:function(){this.getCategories()},methods:{getCategories:function(){this.$store.dispatch("getCategories")},openDialog:function(t,e){var a={name:t?t.name:"",id:t?t.id:""};switch(e){case"Edit":this.editDialog=!0;break;case"Add":this.editDialog=!0,a.id="",a.name="";break;case"Delete":this.deleteDialog=!0}a.mode=e,this.selectedCategory=a},deleteCategory:function(t){var e=this;this.waitingDialog=!0,this.deleteDialog=!1;var a="/categories/"+t.id;this.$store.dispatch("delete",a).then(function(){var a=e.categories.filter(function(e){return e.id===t.id}),i=e.categories.indexOf(a[0]);e.categories.splice(i,1),o.default.$toast.success("Category deleted successfully",{position:"top"})}).catch(function(t){o.default.$toast.error(t,{position:"top"})}).finally(function(){e.waitingDialog=!1})},updateCategory:function(t){var e=this;if(this.waitingDialog=!0,"Add"==t.mode){this.$store.dispatch("add",{endpoint:"/categories/",payload:{name:t.name}}).then(function(t){o.default.$toast.success("Category created successfully",{position:"top"}),e.categories.push(t),e.editDialog=!1}).catch(function(t){o.default.$toast.error(t,{position:"top"})}).finally(function(){e.waitingDialog=!1})}else this.$store.dispatch("update",{endpoint:"/categories/"+t.id,payload:t}).then(function(a){o.default.$toast.success("Category updated successfully",{position:"top"});var i=e.categories.filter(function(e){return e.id===t.id}),r=e.categories.indexOf(i[0]);e.categories.splice(r,1),e.categories.push(a),e.editDialog=!1}).catch(function(t){o.default.$toast.error(t,{position:"top"})}).finally(function(){e.waitingDialog=!1})}},watch:{dialog:function(t){}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-flex",{attrs:{"mt-3":""}},[a("div",{staticClass:"col-sm-10"},[a("h2",[t._v("Categories")]),t._v(" "),a("v-flex",{attrs:{"mt-4":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.openDialog(null,"Add")}}},[t._v("Add New Category")])],1)],1)]),t._v(" "),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("progress-dialog",{attrs:{waitingDialog:t.waitingDialog}}),t._v(" "),t.selectedCategory?a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticClass:"body-2"},[t._v(t._s(t.selectedCategory.mode)+" Category")]),t._v(" "),a("v-divider"),t._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name*",required:""},model:{value:t.selectedCategory.name,callback:function(e){t.$set(t.selectedCategory,"name",e)},expression:"selectedCategory.name"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1"},on:{click:function(e){return t.updateCategory(t.selectedCategory)}}},[t._v("Save")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",outline:""},on:{click:function(e){t.editDialog=!1}}},[t._v("No")])],1)],1)],1):t._e(),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"body-2"},[t._v("Delete Category")]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[t._v("Do you want to remove this category?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1"},on:{click:function(e){return t.deleteCategory(t.selectedCategory)}}},[t._v("Yes")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",outline:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("No")])],1)],1)],1),t._v(" "),t.categories&&0==t.categories.length?a("v-flex",[a("v-card",{staticClass:"pa-5"},[a("v-card-title",{staticClass:"subheading"},[t._v("\n                        No category available\n                    ")])],1)],1):t._e(),t._v(" "),t._l(t.categories,function(e){return a("v-flex",{key:e.id,attrs:{xs3:""}},[a("v-card",{staticClass:"blue-grey--text",attrs:{color:"white darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"text-lg-left"},[a("router-link",{staticClass:"category-link",attrs:{to:"/favorites?categoryId="+e.id}},[a("div",{staticClass:"headline font-weight-bold"},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])]),t._v(" "),a("span",{staticClass:"grey--text"},[t._v(t._s(e.favoritesCount)+" Favorites\n                                Created")])],1)]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",title:"Edit category"},on:{click:function(a){return t.openDialog(e,"Edit")}}},[a("v-icon",{attrs:{color:"green"}},[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{icon:"",title:"Delete category"}},[a("v-icon",{attrs:{color:"red",dark:""},on:{click:function(a){return t.openDialog(e,"Delete")}}},[t._v("delete")])],1)],1)],1)],1)})],2)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,c,!1,function(t){a("MfUC")},"data-v-ce973c90",null);e.default=l.exports}});
//# sourceMappingURL=3.51e84380296c8a77b555.js.map